<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Real - Fake news</title>
    {% load static %}
    <link rel="shortcut icon" href="{% static '\images\file.png' %}" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>Bootstrap Example</title>
    
    <style>
        
        #chart-container {
            width: 50%;
            margin: 0 auto;
        }

        .outline-none {
            outline: none !important;
            border: none !important;
        }
        
        .channels-img a img
        {
            aspect-ratio: 8/2;
            object-fit:contain;
            transition: transform 0.7s;
        }
        .channels-img a:hover img{
            transform: scale(1.3) !important;
        }

        #header_title1{
            display: none;
        }
        #profilebtn span{
            transition:transform 0.2s;
        }
        #profilebtn:hover span{
            transform: scale(1.05);
        }

        @media (max-width: 490px) {
            #header_title1{
                display: inline;
                transition: display 0.5s;
            }
            #header_title2{
                display: none;
                transition: display 0.5s;
            }
        }

    </style>
</head>

<body class="bg-dark">
    {% load humanize %}
    
    <nav class="navbar navbar-expand-lg bg-primary position-fixed shadow-lg top-0 w-100" style="z-index: 100;">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"><img src="{% static 'images/file1.png' %}" style="width: 3.3rem;" alt=""> 
            <span class="fs-3 text-white mx-2" id="header_title1" style="font-family:'Times New Roman', Times, serif;font-weight: bold;">FND Verify</span>
            <span class="fs-3 text-white mx-2" id="header_title2" style="font-family:'Times New Roman', Times, serif;font-weight: bold;">Fake News Detection</span>
        </a>
          
            {% if request.user.is_authenticated %}
                <button id="profilebtn" title="{{request.user.get_full_name}}" class="bg-transparent d-flex flex-column justify-content-center align-items-start border-none outline-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" aria-label="Toggle navigation">
                    <img src="{{request.user.profile_image.url}}" class="rounded-circle shadow-lg shadow-warning" width="50px" height="50px" alt="">
                    <span class="text-white"  style="font-size: 12px;font-weight: bolder;word-spacing: -1.8px;">{{request.user.get_full_name}}</span>
                </button>

            {% else %}
                <button style="width:30px;height:30px;display:flex;justify-content:center;align-items:center;" title="Login/Singup" class="bg-transparent mx-1 border-none outline-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                    <i class="bi bi-person-circle fs-1 text-white"></i>
                </button>
            {% endif %}

        </div>
      </nav>

    <div class="container-fluid mx-0 p-0 " style="margin-top: 100px !important;">

            <div class="rounded m-2 px-3 mt-3" style="background-color:white">


                <form method="POST" id="forms" action="/">
                    <div class="row h-100 p-2">
                        <div class="col p-0 m-1">
                            {% csrf_token %}
                            <div class="position-relative h-100">
        
                                <textarea {% if not request.authenticated %} maxlength="500" {% endif %} name="news_text" required id="textarea" style="min-height:200px;background-color: transparent;color:black;" oninput="CountChar(this)" class="form-control shadow-lg h-100" cols="100" placeholder="Paste the news article here...">{% if text %}{{text}}{% endif %}</textarea>
                                <br>
                                <span style="position: absolute;bottom: 0%;right: 1%;font-size: 12px;"
                                    id="counts">0/500</span>
        
                            </div>
                        </div>
        
        
                        <div class="col-md shadow-lg border overflow-hidden m-1 p-2 rounded  h-100">
        
                            <div class="card bg-transparent border-0">
                                <img src="{% static 'images/file1.png' %}" width="65px" class="mx-auto" alt="">
                            </div>
        
                            <div class="row border-bottom pb-2 my-2">
                                <div class="col text-center">
                                    <img width="30px" class="mx-2" src="{% static 'images/news.png' %}" alt="">
                                    <label for="fake" class="fs-5">
                                        Check News
                                        <input type="radio" name="check" checked id="fake">
                                    </label>
                                </div>
                                <div class="col text-center">
                                    <img width="30px" class="mx-2" src="{% static 'images/facts.png' %}" alt="">
                                    <label for="fact" class="fs-5">
                                        Check Facts
                                        <input type="radio" name="check" id="fact">
                                    </label>
                                </div>
                            </div>
        
                            <style>
                                #fakenews[title]:hover::after {
                                content: attr(title);
                                position: absolute;
                                top: -100%;
                                left: 0;
                                background-color: red;
                                }
                                    
                                
                            </style>
        
                            <div class="row my-3">
                                <div class="col my-1 text-center">
                                    <button type="submit" id="fakenews" title="CTRL + ENTER" class="btn btn-primary w-100 p-0 py-2" style="min-width:200px">
                                        <img width="30px" class="mx-2" src="{% static 'images/check.png' %}" alt="">
                                        Check Fake News
                                    </button>
                                </div>
                                <div class="col my-1 text-center">
                                    <button type="reset" title="CTRL + Shift + ENTER" onclick="ResetApi()" class="btn btn-secondary w-100"
                                        style="min-width:200px">
                                        <img width="30px" class="mx-2" src="{% static 'images/clear.png' %}" alt="">
                                        Clear Results
                                    </button>
        
                                </div>
                            </div>
        
                            <!-- ----------------------------------------- Analysis Results ------------------------------------------------------------------------------------- -->
                            {% if result %}
        
                                <div class="row rounded p-1 d-flex bg-primkary my-2">
                                    <h5 class="mx-1">News Aanlysis</h5>
                                    <div class="col border m-1 rounded">
                                        <p class="mx-2 p-2">Accourding this model the news is categorized as </p>
                                        <p class="w-100 text-center text-bold fs-3"
                                            style="{% if 'Real' in result %} color:#36a2eb; {% else %}color: #ff6384; {% endif %}">
                                            {{result}}</p>
        
                                        <div class="text-center">
        
                                            {% if 'Real' in result %}
        
                                            <img width="150px" src="{% static 'images/happy.png' %}" alt="">
        
                                            {% else %}
                                            <img width="150px" src="{% static 'images/sad.png' %}" alt="">
        
                                            {% endif %}
                                        </div>
        
        
                                    </div>
                                    <div class="col bg-secondadry border m-1 rounded ">
        
                                        <div
                                            class="card bg-transparent border-0 d-flex justify-content-center align-items-center p-3">
        
                                            <div id="chart-container" data-fake="{{fake}}" data-real="{{real}}"
                                                style="width: 240px;">
                                                <canvas id="myPieChart"></canvas>
                                            </div>
        
                                        </div>
                                        <div class="d-flex my-2">
                                            <div class="col text-center text-white rounded m-1"
                                                style="background-color: #36a2eb;">Real {{real}}%</div>
                                            <div class="col text-center text-white rounded m-1"
                                                style="background-color: #ff6384;">Fake {{fake}}%</div>
                                        </div>
        
                                    </div>
                                </div>
                            {% endif %}
        
        
                        </div>
                    </div>
        
        
                </form>
        
            
            </div>

        </div>
    </div>




<!---------------------------------------- Feedback Section for the users to send the feedback about the news analysis results --------------------- -->
        {% if result %}
            
            <div class="p-2">
                <form action="/accounts/feedback/" id="feedbackForm" method="post" class="p-3">
                {% csrf_token %}
                    <span class="text-light mx-auto">Feedback for analysis</span>

                        <div class="d-flex justify-content-start">
                            <div id="rating-stars">
                                <input hidden name="real"  {% if 'Real' in result %} value="true" {% else %} value="false" {% endif %}></span>

                                    <span class="star p-1" data-value="1" style="color: gray;"><i class="bi bi-star fs-4"></i></span>
                                    <span class="star p-1" data-value="2" style="color: gray;"><i class="bi bi-star fs-4"></i></span>
                                    <span class="star p-1" data-value="3" style="color: gray;"><i class="bi bi-star fs-4"></i></span>
                                    <span class="star p-1" data-value="4" style="color: gray;"><i class="bi bi-star fs-4"></i></span>
                                    <span class="star p-1" data-value="5" style="color: gray;"><i class="bi bi-star fs-4"></i></span>

                                    <input type="hidden" name="rating" id="rating-value" value="0">

                            </div>

                            <div>

                                <button type="button" class="mx-auto btn outline-none m-0" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                                    <i class="text-light bi bi-chat-left fs-5" style="pointer-events: all;"></i>
                                </button>
                                <input class="btn btn-info btn-sm d-none" type="submit" id="rateNow" value="Rate">
                            </div>
                        </div>
                    
                        <div id="rating-error" class="text-warning"></div>
                        <!-- Feedback Success Message -->
                        <div id="feedback-success" class="alert alert-success mt-3" style="display:none;">
                            Your feedback has been submitted successfully!
                        </div>
                        
                        
                        <style>
                            #rating-stars {
                                cursor: pointer;
                            }
                            .star {
                                color: white;
                                transition: color 0.2s ease-in-out;
                            }
                        </style>
                        

                    
                    <div class="position-relative collapse" id="collapseExample">
                        
                    
                            <div class="card card-body bg-transparent border shadow-lg ">
                                <button data-bs-toggle="collapse" type="button" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" class="position-absolute btn outline-none fs-5 text-light" style="right:5px;top:-3px;"><i style="pointer-events: all;" class="bi bi-x-lg"></i></button>
                                <div class="row">
                                    <div class="col-md-auto mx-4 p-0 d-flex justify-content-center align-items-center flex-column">
                                        
                                        <div class="card rounded-circle shadow" style="width: 60px; height:60px;padding: 2px;background-color: cyan;">
                                            <img src="{{request.user.profile_image.url}}" style="width: 100%;height: 100%;" class="rounded-circle" alt="">
                                        </div>
                                        <span class="text-white">{{request.user.username | title}}</span>
                                        
                                    </div>
                                    <div class="col py-4">
                                            <form action="/accounts/feedback/" method="post" class="p-3">
                                                <textarea class="form-control m-0 bg-dark text-light border-info" style="max-height:fit-content" rows="4" name="content" id=""></textarea>
                                                <input class="m-2 btn btn-warning btn-sm" type="submit" value="Send">
                                                <input class="m-2 btn btn-dark btn-sm" type="reset" value="Clear">
                                            </form>
                                                
                                    </div>
                                </div>
        
                            
                            </div>
        
                            
                        
                    </div> 
                    
                </form>

            </div>
        {% endif %}


        <!-- -------------------------------------------------- Facts about news area ----------------------------------------------------------- -->
        {% if result %}
            <div class="container my-5 mx-auto w-100">
                <h2 class="text-start text-primary mb-4">Facts Dashboard</h2>
                <div class="list-group">
                    {% for item in facts %}
                        <div class="mb-3 row rounded border-0 bg-transparent">
                            <div class="col d-flex justify-content-between align-items-center">
                                <div>
                                    <h5 class="mb-1 text-dark fw-bold text-white">{{ item.claim_text }}</h5>
                                    <p class="text-muted mb-1 text-light"><strong class="text-light">Claimant:</strong> {{ item.claimant }}</p>
                                    <p class="text-muted small text-light"><strong class="text-light">Date:</strong> {{ item.claim_datetime_utc|date:"d M Y" }}</p>
                                    <div class="accordion me-end" style="width: 18rem;" id="reviewsAccordion{{ forloop.counter }}">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header" id="heading{{ forloop.counter }}">
                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapse{{ forloop.counter }}" aria-expanded="false"
                                                    aria-controls="collapse{{ forloop.counter }}">
                                                    Fact-Check Reviews
                                                </button>
                                            </h2>
                                            
                                        </div>
                                    </div>
                                </div>
                            
                            </div>
                            <div class="col-md-3 m-2 text-center">
                                {% if item.claim_photo_url %}
                                {% comment %} <img src="{{ item.claim_photo_url }}" class="rounded img-fluid" alt="Claim Image" width="150px"> {% endcomment %}
                                <picture>
                                    <source srcset="{{ item.claim_photo_url }}" type="image/svg+xml">
                                    <img src="{{ item.claim_photo_url }}" class="img-fluid img-thumbnail" alt="...">
                                </picture>
                            {% endif %}
                            </div>
                            <div id="collapse{{ forloop.counter }}" class="accordion-collapse collapse" aria-labelledby="heading{{ forloop.counter }}" data-bs-parent="#reviewsAccordion{{ forloop.counter }}">
                                <div class="accordion-body">
                                    {% for review in item.claim_reviews %}
                                    <div class="mb-3 p-2 border rounded">
                                        <p class="fw-bold mb-0 text-light">{{ review.publisher }}</p>
                                        <p class="small mb-0 text-light">{{ review.publisher_domain }}</p>
                                        <p class="mb-0 text-light"><strong class="text-light">Title:</strong> {{ review.title }}</p>
                                        <p class="mb-0 text-light"><strong class="text-light">Review:</strong>
                                            <span class="text-{% if review.review_text == 'True' %}success {% else %}danger}}{% endif %}">
                                                {{ review.review_text }}
                                            </span>
                                        </p>
                                        <a href="{{ review.review_link }}" class="text-primary small" target="_blank">Read more</a>
                                        <p class="text-muted small mt-1">Date: {{ review.review_datetime_utc|date:"d M Y" }}</p>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            <hr>
                            
                        </div>
                    {% empty %}
                        <div class="text-center text-muted">No data available</div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
        
        
        <div class="m-2 rounded p-3 bg-secondadry">

            <div class="row">
                <div class="col d-flex flex-column justify-content-center">
                    <h3 class="text-light">Discover Real News from Verified Platforms </h3>
                    <p style="color: #dde0e3;">Find News from Trusted Global and Indian Sources</p>
                </div>
                <div class="col-md-2 d-flex justify-content-center align-items-center">
                    <img width="110px" src="{% static 'images/verify.png' %}" alt="">
                </div>
            </div>


            
                    <div class="container my-3 border-top py-3">
                        <h2 class="text-center text-light">Stay Informed with Trusted News Sources</h2>
                    
                        <h3 class="mt-4 text-info">Indian News Providers</h3>
                        <div class="d-flex justify-content-start align-items-center p-2 flex-wrap channels-img">

                            <a class="btn btn-light m-auto my-2" href="https://www.thehindu.com" target="_blank">
                                <img src="https://www.thehindu.com/theme/images/th-online/thehindu-logo.svg" width="150px" alt="">
                            </a>

                            <a class="btn btn-light m-auto my-2" href="https://www.ndtv.com" target="_blank">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/NDTV_logo.svg/313px-NDTV_logo.svg.png" width="130px" alt="">
                            </a>
                            <a class="btn btn-light m-auto my-2" href="https://www.timesofindia.indiatimes.com" target="_blank">
                                <img src="{% static 'images/toi.png' %}" width="150px" alt="">
                            </a>
                            <a class="btn btn-light m-auto my-2" href="https://www.moneycontrol.com" target="_blank">
                                <img src="{% static 'images/mc.png' %}" width="150px" alt="">
                            </a>

                        </div>
                    
                        <h3 class="mt-4 text-warning">Foreign News Providers</h3>
                        <div class="d-flex justify-content-start align-items-center p-2 flex-wrap channels-img">

                                <a class="btn btn-light m-auto my-2" href="https://www.bbc.com" target="_blank">
                                    <img src="{% static 'images/bbc.png' %}" width="150px" alt="">

                                </a>
                                <a class="btn btn-light m-auto my-2" href="https://www.cnn.com" target="_blank">
                                    <img src="{% static 'images/cnn.png' %}" width="150px" alt="">
                                </a>
                                <a class="btn btn-light m-auto my-2" href="https://www.reuters.com" target="_blank">
                                    
                                    <img src="{% static 'images/ru.png' %}" width="150px" alt="">
                                </a>
                                <a class="btn btn-light m-auto my-2" href="https://www.theguardian.com" target="_blank">
                                    <img src="{% static 'images/tg.png' %}" width="150px" alt="">

                                </a>
                                <a class="btn btn-light m-auto my-2" href="https://www.aljazeera.com" target="_blank">
                                    <img src="https://upload.wikimedia.org/wikipedia/en/thumb/f/f2/Aljazeera_eng.svg/1200px-Aljazeera_eng.svg.png" width="150px">
                                </a>
                        </div>
                    </div>
                    
            

        </div>


        <div class="my-3 p-2 ">

            <!-- ---------------------------------------- Bottom Area --------------------------------------------------------------- -->

            <ul class="nav nav-pills m-3" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
                        type="button" role="tab" aria-controls="pills-home" aria-selected="true">About App</button>
                <li class="nav-item" role="presentation">
                    <button class="nav-link " id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile"
                        type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Explore Api </button>


            <div class="tab-content"  id="pills-tabContent">
                <style>
                    .about-section {
                        /* background-color: #817f7f; */
                        padding: 60px 0;
                        color: #ffffff;
                    }

                    .section-title {
                        font-size: 2.5rem;
                        margin-bottom: 40px;
                        font-weight: bold;
                        color: #5e5e5e;
                    }

                    .feature-item {
                        margin-bottom: 30px;
                    }

                    .feature-item h5 {
                        color: #007bff;
                        font-weight: bold;
                    }

                    .feature-item p {
                        color: #b6b6b6;
                    }
                    .text-justify{
                        text-align: justify;
                    }
                    .text-wheat{
                        color: rgb(223, 222, 222);
                    }
                    .text-blue-light{
                        color: rgb(0, 212, 202);
                    }
                </style>

                <!-- ---------- About Section ------------ -->
                <div class="tab-pane fade active show" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
                    <!-- About Section -->
                    <section class="about-section text-center">
                        <div class="container">
                            <h2 class="section-title text-white">About Us</h2>
                            <p class="lead text-wheat text-justify">
                                In todayâ€™s fast-paced digital world, misinformation and fake news spread rapidly, causing
                                confusion and harm to society. Our platform is designed to help individuals, journalists,
                                and
                                organizations detect fake news and verify facts quickly and effectively.
                            </p>

                            <!-- Our Mission -->
                            <div class="mt-5">
                                <h3 class="mb-4">Our Mission</h3>
                                <p class="text-wheat text-justify">
                                    Our mission is to combat the spread of fake news by providing users with an easy-to-use
                                    tool
                                    that not only predicts the authenticity of news articles but also cross-checks facts to
                                    ensure the reliability of the information being shared.
                                </p>
                            </div>

                            <!-- Key Features -->
                            <div class="row text-start mt-5">
                                <div class="col-md-6 feature-item">
                                    <h5><i class="bi bi-shield-fill-check text-justify"></i> Fake News Detection</h5>
                                    <p>Using advanced machine learning models, our platform analyzes news articles to
                                        determine
                                        whether they are likely to be real or fake, helping users make informed decisions.
                                    </p>
                                </div>

                                <div class="col-md-6 feature-item">
                                    <h5><i class="bi bi-search text-justify"></i> Fact-Checking</h5>
                                    <p>We integrate a robust fact-checking feature that verifies the claims in the news
                                        against
                                        trustworthy databases, offering users a quick way to confirm the truth behind the
                                        stories they read.</p>
                                </div>

                                <div class="col-md-6 feature-item">
                                    <h5><i class="bi bi-ui-checks text-justify"></i> User-Friendly Interface</h5>
                                    <p>Our platform is designed with simplicity in mind, ensuring that even non-technical
                                        users
                                        can easily input news articles and receive predictions and fact-checking summaries.
                                    </p>
                                </div>

                                <div class="col-md-6 feature-item">
                                    <h5><i class="bi bi-arrow-repeat text-justify"></i> Continuous Improvement</h5>
                                    <p>We are constantly updating our models and tools to adapt to new trends and emerging
                                        patterns in misinformation, ensuring the most accurate and up-to-date results.</p>
                                </div>
                            </div>
                        </div>

                        <div class="container">

                            <style>
                                pre {
                                    /* background-color: #343a40; */
                                    color: #5e5e5e;
                                    padding: 15px;
                                    border-radius: 5px;
                                }

                                .text-param {
                                    color: #17a2b8;
                                }

                                .text-value {
                                    color: #28a745;
                                }

                                .text-quotes {
                                    color: #ddd60b;
                                }

                                .copy-button {
                                    float: right;
                                }

                                .api-endpoint {
                                    /* background-color: #007bff; */
                                    color: #5e5e5e;
                                    padding: 10px;
                                    border-radius: 5px;
                                }
                            </style>

                        </div>

                    </section>
                </div>

                <!-- ---------- API Section ------------ -->
                <div class="tab-pane " id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">


                    <div class="container mt-5">
                        <h1 class="mb-4 text-white">Fake News Detection API Documentation</h1>

                        <h2 class="mt-4 text-wheat">Request Format</h2>
                        <p class="text-wheat">Use the following format to send a request to the Fake News Detection API:</p>
                        <button class="btn btn-secondary btn-sm copy-button" onclick="copyToClipboard('request-example',this)">Copy</button>
                        <pre id="request-example">

                            <span class="text-blue-light">{</span>
                            <span class="text-quotes">"text"</span>: <span class="text-quotes">"Your news content here"</span>
                            <span class="text-blue-light">}</span>
                            </pre>


                        <h3 class="mt-4 text-wheat">Parameters</h3>
                        <ul>

                        <h2 class="mt-4 text-wheat">The Response Format</h2>
                        <p class="text-wheat">The API returns a JSON response with the following structure:</p>
                        <button class="btn btn-secondary btn-sm copy-button"
                            onclick="copyToClipboard('response-example',this)">Copy</button>
                        <pre id="response-example">
                            <span class="text-blue-light">{</span>
                            <span class="text-quotes">"text"</span>: <span class="text-quotes">"Your news content here"</span>,
                            <span class="text-quotes">"prediction"</span>: <span class="text-value">"Real"</span> or <span class="text-value">"Fake"</span>,
                            <span class="text-quotes">"confidence"</span>: <span class="text-value">0.97</span>,
                            <span class="text-quotes">"facts_checked"</span>: <span class="text-quotes">"Facts information here"</span>
                            <span class="text-blue-light">}</span>
                            </pre>


                        <h3 class="mt-4 text-wheat">Response Fields</h3>
                        <ul class="text-wheat">
                                The
                                The result of the fake news detection. Either <span class="text-value">"Real"</span>
                                Any fact-checked information related to
                                the

                        <h2 class="mt-4">Example Request <button class="btn btn-secondary copy-button btn-sm mb-2" onclick="copyToClipboard('example-request',this)">Copy</button></h2>

                        <div class="m-1">
                            <pre id="example-request" class="text-wheat">curl -X POST "http://127.0.0.1:8000/api/predict/" -H "Content-Type: application/json" -d 
                        <span class="text-blue-light">{</span>
                            <span class="text-quotes">"text"</span> <span class="text-quotes">"Breaking news content..."</span>
                        <span class="text-blue-light">}</span>
                                                    </pre>
                        </div>


                        <h2 class="mt-4">Example Response <button class="btn btn-secondary btn-sm copy-button"
                                onclick="copyToClipboard('example-response',this)">Copy</button></h2>
                        <pre id="example-response">
                            <span class="text-blue-light">{</span>
                            <span class="text-quotes">"text"</span>: <span class="text-quotes">"Breaking news content..."</span>,
                            <span class="text-quotes">"prediction"</span>: <span class="text-value">"Fake"</span>,
                            <span class="text-quotes">"confidence"</span>: <span class="text-value">0.89</span>,
                            <span class="text-quotes">"facts_checked"</span>: <span class="text-quotes">"Fact-check details here..."</span>
                            <span class="text-blue-light">}</span>
                            </pre>


                    </div>

                </div>
            </div>



        </div>

        <footer class="bg-dark text-light pt-5 pb-4">
            <div class="container">
                <div class="row">
                    <!-- Site Navigation Links -->
                    <div class="col-md-4">
                        <h5>Navigation</h5>
                        <ul class="list-unstyled">
                            <li><a href="#about" class="text-light">About</a></li>
                            <li><a href="#features" class="text-light">Features</a></li>
                            <li><a href="#how-it-works" class="text-light">How It Works</a></li>
                            <li><a href="#fact-check" class="text-light">Fact-Checking</a></li>
                            <li><a href="#contact" class="text-light">Contact Us</a></li>
                        </ul>
                    </div>

                    <!-- Help and Support Links in Columns -->
                    <div class="col-md-4">
                        <h5>Help & Support</h5>
                        <div class="row">
                            <div class="col">
                                <ul class="list-unstyled">
                                    <li><a href="#faq" class="text-light">FAQs</a></li>
                                    <li><a href="#support" class="text-light">Help Center</a></li>
                                    <li><a href="#guide" class="text-light">User Guide</a></li>
                                </ul>
                            </div>
                            <div class="col">
                                <ul class="list-unstyled">
                                    <li><a href="#terms" class="text-light">Terms of Service</a></li>
                                    <li><a href="#privacy" class="text-light">Privacy Policy</a></li>
                                    <li><a href="#report" class="text-light">Report an Issue</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Search Bar -->
                    <div class="col-md-4">
                        <h5>Search the Site</h5>
                        <form class="d-flex">
                            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                            <button class="btn btn-danger" type="submit">Search</button>
                        </form>
                    </div>
                </div>

                <hr class="bg-light">

                <!-- Copyright and Terms -->
                <div class="row">
                    <div class="col-md-6">
                        <p>&copy; 2024 Fake News Detection System</p>
                    </div>
                    <div class="col-md-6 text-end">
                        <a href="#terms" class="text-light me-2">Terms of Service</a>
                        <a href="#privacy" class="text-light">Privacy Policy</a>
                    </div>
                </div>
            </div>
        </footer>

  
  <!-- Modal for account center -->

  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    
    <div class="offcanvas-body">
        <div class="modal-content h-100">
        <div class="modal-header d-flex justify-content-between">
            <h1 class="modal-title fs-6" >Account Center</h1>
            
            {% if request.user.is_authenticated %}
                {% if request.user.is_superuser %}
                    <a href="/accounts/admin/" target="_blank" type="button" class="btn btn-scroll"><img width="40px" src="{% static 'images/admin.png' %}" alt=""> </a>
                {% endif %}
            {% endif %}
            <button type="button btn border-none outline-none" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>

        </div>
    
        {% if request.user.is_authenticated %}

        <div class="modal-body p-2">

            <div class="row border shadow-lg p-2 rounded">
            <div class="col"><img width="80px" height="80px" id="profileimg" class="rounded shadow-lg" src="{{request.user.profile_image.url}}" alt=""></div>
            <div class="col">
                <h5 class="text-center">{{request.user.get_full_name}} <span style="font-size:10px">{% if request.user.gender != none %}{{request.user.gender}}{% endif %} </span></h5>
                <p class="p-0 m-0 text-center"> {{request.user.username}} </p>

                <small class="text-center">{{request.user.email}}</small>
            </div>

            <details class="p-1 m-0 text-start" style="font-size: 12px;">
                <summary>About me</summary>
                <p> {{request.user.bio}}</p>
                </details>

            </div>
            

            <div class="row my-1 border d-flex justify-content-between shadow-lg p-2 rounded">
                <div class="col text-info p-2"><i class="bi bi-person-lines-fill mx-2 fs-6"></i>Porfile</div>
                <div class="col-md-4 p-2" style="text-align: right;"><a href="/accounts/profile" class="text-info"><i class="bi bi-box-arrow-up-right text-info mx-1"></i> Go to</a></div>
            </div>
            
            <div class="row my-1 border d-flex justify-content-between shadow-lg p-2 rounded">
                <div class="col text-warning p-2"><i class="bi bi-key mx-2 fs-5"></i>Change Passowrd</div>
                <div class="col-md-4 p-2" style="text-align: right;"><a href="/accounts/password/change" class="text-success"><i class="bi bi-box-arrow-up-right text-success mx-1"></i> Go to</a></div>
            </div>

            

            
        </div>
        {% else %}
        <div class="modal-body p-2">
            <div class="row border shadow-lg p-2 rounded">
            <div class="m-1 my-3 w-100 border-warning">

                <h3>Login your account</h3>
                <a href="/accounts/login" class="btn btn-primary w-100">Login</a>
            </div>

            <div class="m-1 my-3 w-100 border-danger">

                <h3 class="border-top">Create new account</h3>
                <a href="/accounts/signup" class="btn btn-warning w-100">Resister</a>
            </div>
            </div>       
        </div>

        {% endif %}

        
        <div class="modal-footer m-0 mt-2 p-0 mb-3 ">
            
            <div class="row border my-1 w-100 d-flex text-success justify-content-between shadow-lg p-2 rounded">
            <div class="col p-2 text-danger"><i class="bi bi-shield-lock-fill  mx-2"></i>Privacy</div>
            <div class="col p-2" style="text-align: right;"><a href="#" class="text-danger"><i class="bi bi-box-arrow-up-right text-danger mx-1 "></i> Go to</a></div>
            </div>

            <div class="row border my-1 w-100 d-flex text-success justify-content-between shadow-lg p-2 rounded">
            <div class="col p-2 text-info"><i class="bi bi-person-raised-hand  mx-2"></i>Contant?Help</div>
            <div class="col p-2" style="text-align: right;"><a href="/contact-us/" class="text-info"><i class="bi bi-box-arrow-up-right text-omf mx-1 "></i> Go to</a></div>
            </div>

            <div class="row border my-1 w-100 d-flex text-success justify-content-between shadow-lg p-2 rounded">
            <div class="col p-2 text-warning"><i class="bi bi-info-circle-fill  mx-2"></i>About</div>
            <div class="col p-2" style="text-align: right;"><a href="/about-us/" class="text-warning"><i class="bi bi-box-arrow-up-right text-warning mx-1 "></i> Go to</a></div>
            </div>

            <!-- // Log-Out user -->
            {% if request.user.is_authenticated %}

            <div class="row border my-1 w-100 d-flex text-success justify-content-between shadow-lg p-2 rounded">
            <div class="col p-2" style="color: #15d84c !important;"><i class="bi bi-person-dash mx-2"></i>Log-Out</div>
            <div class="col p-2 text-end">
                <div class="form-check form-switch">
                <a href="/accounts/logout" class="btn text-success"><i class="bi bi-box-arrow-right text-success"></i></a>
                </div>
            </div>
            </div>
            {% endif %}

        </div>
        </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Handle star click to set rating
            $(".star").on("click", function () {
                const rating = $(this).data("value");
                $("#rating-value").val(rating);  // Update the hidden input value
                
                // Change star colors
                $(".star").each(function () {
                    const starValue = $(this).data("value");
                    if (starValue <= rating) {
                        $(this).html("<i class='bi bi-star-fill text-warning fs-4'></i>");  // Highlight selected and previous stars
                        $('#rateNow').removeClass('d-none');  // Highlight selected and previous stars
                    } else {
                        $(this).html("<i class='bi bi-star fs-4'></i>");  // Reset others
                    }
                });
            });
    
            // Submit form via AJAX
            $("#feedbackForm").on("submit", function (e) {
                e.preventDefault();  // Prevent default form submission
                
                const formData = $(this).serialize();  // Serialize form data
                console.log(formData)
    
                $.ajax({
                    url: "{% url 'feedback' %}",  // Update with your feedback view URL
                    type: "POST",
                    data: formData,
                    success: function (response) {
                        $("#feedbackForm")[0].reset();  // Reset form fields
                        $(".star").css("color", "black");  // Reset star colors
                        $("#feedback-success").fadeIn().delay(3000).fadeOut();  // Show success message
                    },
                    error: function (xhr) {
                        const errors = xhr.responseJSON.errors;
                        if (errors.rating) {
                            $("#rating-error").text(errors.rating);

                            setTimeout(() => {
                                $("#rating-error").text('');
                            }, 3000);

                        } else {
                            $("#rating-error").text('');
                        }
                        if (errors.content) {
                            $("#content-error").text(errors.content);
                        } else {
                            $("#content-error").text('');
                        }
                    }
                });
            });
        });
    </script>

    
    <script>
        // Data for Fake and Real news
        let a = 0
        function CollapseFun(obj){
            const collapseExample = document.getElementById('collapseExample');
            console.log(collapseExample.offsetHeight)
            collapseExample.classList.toggle('d-none')
        }

        let like = 0;
        function LikeAnalysis(obj){
            let likeButton = document.getElementById("likeButton");

            likeButton = likeButton.firstElementChild;


            if(like==0){
                likeButton.classList.replace('bi-hand-thumbs-up','bi-hand-thumbs-up-fill')
                // obj.classList.add('')
                like = 1;
            }
            else{
                likeButton.classList.replace('bi-hand-thumbs-up-fill','bi-hand-thumbs-up')

                like = 0;

            }

        }

        window.onload = (e) => {
            try {

                const chart_container = document.getElementById("chart-container");
                fakeValue = chart_container.dataset.fake;
                realValue = chart_container.dataset.real;

                piChart(fakeValue, realValue)
            }
            catch (e) {
                console.log(e)
            }
        }

        function piChart(fakeValue, realValue) {

            // Pie chart configuration
            const ctx = document.getElementById('myPieChart').getContext('2d');
            const myPieChart = new Chart(ctx, {

                type: 'pie',
                data: {
                    labels: ['Fake', 'Real'],
                    datasets: [{
                        data: [fakeValue, realValue],
                        backgroundColor: ['#ff6384', '#36a2eb'],
                        hoverBackgroundColor: ['#ff3b5c', '#3398da']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function (tooltipItem) {
                                    return tooltipItem.label + ': ' + tooltipItem.raw + '%';
                                }
                            }
                        }
                    }
                }
            });

        }



    </script>

    <script>
        function CountChar(obj) {
            let counts = document.getElementById('counts');
            let textarea = document.getElementById('textarea');

            counts.innerText = textarea.value.length + "/500"


        }

        function ResetApi() {
            document.getElementById('textarea').innerText = '';
            document.getElementById('donutChart').style.display = 'none';
            document.getElementById('result').innerText = '';
        }


        
        function copyToClipboard(containerId) {
            // Get the text inside the div with formatting preserved
            const textContainer = document.getElementById(containerId);
            
            const preText = textContainer.innerText;

            // Create a temporary textarea element to copy the text
            const textarea = document.createElement("textarea");
            textarea.value = preText;
            textarea.hidden = true
            document.body.appendChild(textarea);

            // Select the text and copy it
            textarea.select();
            document.execCommand("copy");
            // Remove the textarea element
            document.body.removeChild(textarea);

        }
        
    </script>




</body>

</html>